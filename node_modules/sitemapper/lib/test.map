{"version":3,"sources":["tests/test.js"],"sourcesContent":["/* global describe,it */\n'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _async = require('async');\n\nvar _async2 = _interopRequireDefault(_async);\n\nvar _assert = require('assert');\n\nvar _assert2 = _interopRequireDefault(_assert);\n\nvar _should = require('should');\n\nvar _should2 = _interopRequireDefault(_should);\n\nvar _isUrl = require('is-url');\n\nvar _isUrl2 = _interopRequireDefault(_isUrl);\n\nvar _sitemapperJs = require('./sitemapper.js');\n\nvar _sitemapperJs2 = _interopRequireDefault(_sitemapperJs);\n\nvar sitemapper = undefined;\n\ndescribe('Sitemapper', function () {\n\n  beforeEach(function () {\n    sitemapper = new _sitemapperJs2['default']();\n  });\n\n  describe('Sitemapper Class', function () {\n\n    it('should have initializeTimeout method', function () {\n      sitemapper.initializeTimeout.should.be.Function;\n    });\n\n    it('should have crawl method', function () {\n      sitemapper.crawl.should.be.Function;\n    });\n\n    it('should have parse method', function () {\n      sitemapper.parse.should.be.Function;\n    });\n\n    it('should have fetch method', function () {\n      sitemapper.fetch.should.be.Function;\n    });\n\n    it('should contruct with a url', function () {\n      sitemapper = new _sitemapperJs2['default']({\n        url: 'google.com'\n      });\n      sitemapper.url.should.equal('google.com');\n    });\n\n    it('should contruct with a timeout', function () {\n      sitemapper = new _sitemapperJs2['default']({\n        timeout: 1000\n      });\n      sitemapper.timeout.should.equal(1000);\n    });\n\n    it('should set timeout', function () {\n      sitemapper.timeout = 1000;\n      sitemapper.timeout.should.equal(1000);\n    });\n\n    it('should set url', function () {\n      sitemapper.url = 1000;\n      sitemapper.url.should.equal(1000);\n    });\n  });\n\n  describe('fetch Method resolves sites to array', function () {\n    it('http://wp.seantburke.com/sitemap.xml sitemaps should be an array', function (done) {\n      this.timeout(30000);\n      var url = 'http://wp.seantburke.com/sitemap.xml';\n      sitemapper.fetch(url).then(function (data) {\n        data.sites.should.be.Array;\n        data.url.should.equal(url);\n        data.sites.length.should.be.above(2);\n        (0, _isUrl2['default'])(data.sites[0]).should.be['true'];\n        done();\n      })['catch'](function (error) {\n        return console.error(error);\n      });\n    });\n\n    it('giberish.giberish should fail silently with an empty array', function (done) {\n      this.timeout(30000);\n      var url = 'http://giberish.giberish';\n      sitemapper.fetch(url).then(function (data) {\n        data.sites.should.be.Array;\n        done();\n      })['catch'](function (error) {\n        return console.error(error);\n      });\n    });\n\n    it('https://www.google.com/work/sitemap.xml sitemaps should be an array', function (done) {\n      this.timeout(30000);\n      var url = 'https://www.google.com/work/sitemap.xml';\n      sitemapper.fetch(url).then(function (data) {\n        data.sites.should.be.Array;\n        data.url.should.equal(url);\n        data.sites.length.should.be.above(2);\n        (0, _isUrl2['default'])(data.sites[0]).should.be['true'];\n        done();\n      })['catch'](function (error) {\n        return console.error(error);\n      });\n    });\n\n    it('http://www.cnn.com/sitemaps/sitemap-index.xml sitemaps should be an array', function (done) {\n      this.timeout(30000);\n      var url = 'http://www.cnn.com/sitemaps/sitemap-index.xml';\n      sitemapper.timeout = 5000;\n      sitemapper.fetch(url).then(function (data) {\n        data.sites.should.be.Array;\n        data.url.should.equal(url);\n        data.sites.length.should.be.above(2);\n        (0, _isUrl2['default'])(data.sites[0]).should.be['true'];\n        done();\n      })['catch'](function (error) {\n        return console.error(error);\n      });\n    });\n  });\n\n  describe('getSites method', function () {\n    it('getSites should be backwards compatible', function (done) {\n      this.timeout(30000);\n      var url = 'http://wp.seantburke.com/sitemap.xml';\n      sitemapper.getSites(url, function (err, sites) {\n        sites.should.be.Array;\n        (0, _isUrl2['default'])(sites[0]).should.be['true'];\n        done();\n      });\n    });\n  });\n});"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;","file":"test.js"}